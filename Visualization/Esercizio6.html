<html>
    <head>
        <script src='Lib/d3.v3.min.js'></script>
    </head>
        <body>
            <svg width = 10000></svg>
            
            <script>
                /*var dataset = [{age:3},{age:32},{age:13},{age:5},{age:6}]
                dataset.sort(function(a, b){
                    return d3.ascending(a.age, b.age)
                })
                var newdata = dataset.filter(function(d){
                    return d.age < 10
                })
                
                d3.select('svg')
                    .selectAll('rect')
                    .data(dataset)
                    .enter()
                    .append('rect')
                    .attr('width', 5)
                    .attr('height', function(d,i){
                        return d.age
                    })
                    .attr('x', function(d,i){
                        return i*6
                    })*/
                d3.csv('athletes_sochi.csv', function(data){
                    console.log(data)
                    var atletiSelezionati = data.filter(function(d){
                        //return parseInt(d.age) < 20
                        return parseInt(d.gold_medals) > 1
                    })
                    d3.select('svg')
                        .selectAll('rect')    
                        .data(atletiSelezionati)
                        .enter()
                        .append('rect')
                        .attr('fill', 'green')
                        .attr('width', 5)
                        .attr('height', function(d,i){
                            return d.age
                        })
                        .attr('x', function(d,i){
                            return i*6
                        })
                        .attr('y', function(d,i){
                            return 100-d.age    
                        })
                })
            </script>
        </body>
</html>